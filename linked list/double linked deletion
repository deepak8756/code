//1             doubly linked list ke andar deletion--                                         
#include<bits/stdc++.h>
using namespace std;

class Node{
   public:
   int data;
   Node* prev;
   Node* next;

   Node(int data){
      this->data=data;
      this->prev=NULL;
      this->next=NULL;
   }
};

void insertAthead(Node* &head,int data){
   Node* temp=new Node(data);

   temp->next=head;
   head->prev=temp;
   head=temp;
   head->prev=NULL;
}


void insertAttail(Node* &tail,int value){
   Node* temp=new Node(value);

   tail->next=temp;
   temp->prev=tail;
   tail=temp;
}


void insertinLL(Node* &head,Node* &tail,int position,int value){
   if(position==1){
      Node* temp=new Node(value);
      temp->next=head;
      head->prev=temp;
      head=temp;
      temp->prev=NULL;
      return;
   }
   Node*temp=head;
   int counter=1;

   while(counter<position-1){
      temp=temp->next;
      counter++;
   }
   if(temp->next==NULL){
      Node* lastnode=new Node(value);
      lastnode->prev=temp;
      temp->next=lastnode;
      lastnode->next=NULL;
      tail=lastnode;
      return;

   }
   Node* insert=new Node(value);
   insert->next=temp->next;
   temp->next->prev=insert;
   temp->next=insert;
   insert->prev=temp;

}

void deletenode(Node* &head,Node* &tail,int position){
   if(position==1){
      Node* temp=head;
      temp->next->prev=NULL;
      head=temp->next;
      temp->next=NULL;
      delete temp;
      return;
   }
   //-------------------------------------------
   Node* current=head;
   Node* prev=head;
   int counter=1;

   while(counter<position){
      prev=current;
      current=current->next;
      counter++;
   }
   if(current->next==NULL){
      current->prev=NULL;
      prev->next=current->next;
      tail=prev;
      delete current;
      return;

   }
   prev->next=current->next;
   current->next->prev=prev;
   current->next=NULL;
   delete current;

}

void print(Node* &head,Node* &tail){
   Node* temp=head;
    while(temp!=NULL)
    {
      cout<<temp->data<<" ";
      temp=temp->next;
    }
    cout<<endl;
    cout<<"HEAD is:- "<<head->data<<"  "<<"TAIL is:- "<<tail->data;
    cout<<endl;
}

int main()
{
   Node* node1=new Node(10);
   Node* head=node1;
   Node* tail=node1;

   // insertAthead(head,20);
   // print(head);
   // insertAthead(head,30);
   // print(head);
   // insertAthead(head,40);
   // print(head);
   // insertAthead(head,50);
   // print(head);
   // insertAthead(head,60);
   // print(head);
   //-----------------------------------------------------------
   insertAttail(tail,20);
   print(head,tail);
   insertAttail(tail,30);
   print(head,tail);
   insertAttail(tail,40);
   print(head,tail);
   insertAttail(tail,50);
   print(head,tail);
   insertAttail(tail,60);
   print(head,tail);
   //--------------------------------------------------------------
   insertinLL(head,tail,1,420);
   print(head,tail);
   insertinLL(head,tail,4,520);
   print(head,tail);
   insertinLL(head,tail,9,620);
   print(head,tail);
   //-------------------------------------------------------------
   deletenode(head,tail,1);
   print(head,tail);

   deletenode(head,tail,3);
   print(head,tail);

   deletenode(head,tail,7);
   print(head,tail);


  


   return 0;
}
